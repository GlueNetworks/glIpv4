/*! 
  glIpv4 v(0.0.1) 
  (c) 2013-2015
  https://gluenetworks.kilnhg.com/Code/Web-Development
  Release Date: 2015-03-10 
*/

angular.module("glIpv4", [ "glTextfield" ]), angular.module("glIpv4").directive("glIpv4", [ "$compile", "$timeout", function(a) {
    "use strict";
    return {
        restrict: "EA",
        replace: !0,
        scope: {
            settings: "=",
            api: "="
        },
        link: function(b, c) {
            // period tabs to next field
            function d(a) {
                190 == a.keyCode && (a.preventDefault(), q[1].find("input").focus());
            }
            function e(a) {
                190 == a.keyCode && (a.preventDefault(), q[2].find("input").focus());
            }
            function f(a) {
                190 == a.keyCode && (a.preventDefault(), q[3].find("input").focus());
            }
            function g(a) {
                190 == a.keyCode && a.preventDefault();
            }
            function h() {
                b.api._data.ipSegments[0] = b.api1.getValue();
            }
            function i() {
                b.api._data.ipSegments[1] = b.api2.getValue();
            }
            function j() {
                b.api._data.ipSegments[2] = b.api3.getValue();
            }
            function k() {
                b.api._data.ipSegments[3] = b.api4.getValue();
            }
            var l, m, n, o, p, q = [], r = "gl-textfield-error", s = "gl-textfield-view-label", t = "gl-textfield-view-value";
            b.api1 = {}, b.api2 = {}, b.api3 = {}, b.api4 = {};
            var u = [ "focus", "blur", "change", "keypress", "input", "keydown" ];
            b.settings1 = {
                name: "ipv4-seg-1",
                type: "number",
                numberSpinner: !1,
                emitEvents: u,
                onKeyUp: h,
                onKeyDown: d
            }, b.settings2 = {
                nane: "ipv4-seg-2",
                type: "number",
                numberSpinner: !1,
                emitEvents: u,
                onKeyUp: i,
                onKeyDown: e
            }, b.settings3 = {
                name: "ipv4-seg-3",
                type: "number",
                numberSpinner: !1,
                emitEvents: u,
                onKeyUp: j,
                onKeyDown: f
            }, b.settings4 = {
                name: "ipv4-seg-4",
                type: "number",
                numberSpinner: !1,
                emitEvents: u,
                onKeyUp: k,
                onKeyDown: g
            };
            var v = [ '<gl-textfield api="api1" settings="settings1" >', '<gl-textfield api="api2" settings="settings2" >', '<gl-textfield api="api3" settings="settings3" >', '<gl-textfield api="api4" settings="settings4" >' ], w = '<div class="gl-ipv4-inputs"></div>', x = '<p class="' + r + '">{{api._data.error}}</p>', y = '<label class="' + s + '">{{api._data.label}}</label>', z = '<p class="' + t + '"></p>', A = '<span class="gl-ipv4-segment-seperator">.</span>';
            b.api = b.api || {}, b.api._data = {}, b.api._data.capsLocked = !1, b.api._data.numberMouseOverSpinner = !1, 
            // MAP SETTINGS
            b.api._data.ipSegments = angular.isUndefined(b.settings.value) ? [] : b.settings.value.split("."), 
            b.api._data.valid = angular.isUndefined(b.settings.valid) ? !0 : b.settings.valid, 
            b.api._data.name = angular.isUndefined(b.settings.name) ? void 0 : b.settings.name, 
            b.api._data.label = angular.isUndefined(b.settings.label) ? void 0 : b.settings.label, 
            b.api._data.disabled = angular.isUndefined(b.settings.disabled) ? !1 : b.settings.disabled, 
            b.api._data.placeholder = angular.isUndefined(b.settings.placeholder) ? void 0 : b.settings.placeholder, 
            b.api._data.error = angular.isUndefined(b.settings.error) ? void 0 : b.settings.error, 
            b.api._data.editable = angular.isUndefined(b.settings.editable) ? !0 : b.settings.editable, 
            b.api._data.emitEvents = angular.isUndefined(b.settings.emitEvents) ? u : b.settings.emitEvents, 
            b.api.setInvalid = function(a) {
                b.api._data.valid = !1, b.api1.setInvalid(), b.api2.setInvalid(), b.api3.setInvalid(), 
                b.api4.setInvalid(), b.api._data.error = angular.isString(a) ? a : void 0, E();
            }, b.api.setValid = function() {
                b.api._data.valid = !0, b.api1.setValid(), b.api2.setValid(), b.api3.setValid(), 
                b.api4.setValid(), E();
            }, b.api.setValue = function(a) {
                b.api._data.ipSegments = a.split("."), angular.isUndefined(b.api._data.ipSegments) || (b.api1.setValue(angular.isUndefined(parseInt(b.api._data.ipSegments[0])) ? void 0 : parseInt(b.api._data.ipSegments[0])), 
                b.api2.setValue(angular.isUndefined(parseInt(b.api._data.ipSegments[1])) ? void 0 : parseInt(b.api._data.ipSegments[1])), 
                b.api3.setValue(angular.isUndefined(parseInt(b.api._data.ipSegments[2])) ? void 0 : parseInt(b.api._data.ipSegments[2])), 
                b.api4.setValue(angular.isUndefined(parseInt(b.api._data.ipSegments[3])) ? void 0 : parseInt(b.api._data.ipSegments[3]))), 
                angular.isUndefined(o) || o.html(b.api.getValue());
            }, b.api.getValue = function() {
                return b.api._data.ipSegments.join(".");
            }, b.api.setPlaceholder = function(a) {
                b.api._data.placeholder = a, b.api1.setPlaceholder(a);
            }, b.api.getPlaceholder = function() {
                return b.api._data.placeholder;
            }, b.api.setLabel = function(a) {
                b.api._data.label = a;
            }, b.api.getLabel = function() {
                return b.api._data.label;
            }, b.api.view = function() {
                C();
            }, b.api.edit = function() {
                D();
            }, b.api.disable = function() {
                b.api._data.disabled = !0, b.api1.disable(), b.api2.disable(), b.api3.disable(), 
                b.api4.disable();
            }, b.api.enable = function() {
                b.api._data.disabled = !1, b.api1.enable(), b.api2.enable(), b.api3.enable(), b.api4.enable();
            };
            var B = function() {
                l = angular.element(w), p = angular.element(A);
                for (var c = 0; c < v.length; c++) {
                    var d = v[c], e = angular.element(d);
                    q[c] = e, l.append(q[c]), 3 > c && l.append(p.clone());
                }
                var f = a(l)(b);
                return b.api._data.disabled && b.api.disable(), f;
            }, C = function() {
                b.api._data.editable = !1, c.children().remove(), angular.isString(b.api._data.label) && (n = a(angular.element(y))(b), 
                c.append(n)), o = a(angular.element(z))(b), o.html(b.api.getValue()), c.append(o);
            }, D = function() {
                b.api._data.editable = !0, c.children().remove(), c.append(B());
                //scope.api.setValue(scope.api.setValue(scope.api.getValue()))
                var a = b.api.getValue();
                if (b.api.setValue(a), b.api._data.valid) b.api.setValid(); else {
                    var d = angular.isString(b.api._data.error) ? b.api._data.error : void 0;
                    b.api.setInvalid(d);
                }
                E();
            }, E = function() {
                angular.isUndefined(m) || m.remove(), b.api._data.editable && !b.api._data.valid && angular.isString(b.api._data.error) && (m = a(angular.element(x))(b), 
                c.append(m));
            };
            // INIT
            angular.isString(b.settings.value) && b.api.setValue(b.api.setValue(b.settings.value)), 
            angular.isString(b.api._data.placeholder) && (b.settings1.placeholder = b.api._data.placeholder), 
            angular.isString(b.settings.value) && b.api.setValue(b.api.setValue(b.settings.value)), 
            angular.isUndefined(b.settings.view) || 1 != b.settings.view ? D() : C();
        }
    };
} ]);
//# sourceMappingURL=glipv4.min.js.map